!function(a,o){var n=gravityflowchecklists_checklists_strings.vars;o(document).ready(function(){o(".gravityflowchecklists-icon").click(function(){var a,s,e,t,c,i=o(this);i.data("can_exempt")&&(a=(c=i.data("exempt"))?"DELETE":"POST",s=i.data("checklist"),e=i.data("user_id"),t=i.data("form_id"),o.ajax({method:a,url:n.root+"gf/v2/checklists/"+s+"/users/"+e+"/forms/"+t+"/exemptions",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",n.nonce),i.removeClass("fa-square-o"),i.removeClass("fa-check-square-o"),i.addClass("fa-spinner fa-spin")},success:function(a){i.removeClass("fa-spinner fa-spin"),c?(i.data("exempt",0),i.addClass("fa-square-o")):(i.data("exempt",1),i.addClass("fa-check-square-o"))},fail:function(a){i.removeClass("fa-spinner fa-spin"),i.hasClass("gravityflowchecklists-icon-incomplete")?i.addClass("fa-square-o"):i.addClass("fa-check-square-o")}}))})})}(window.GravityFlowChecklists=window.GravityFlowChecklists||{},jQuery);