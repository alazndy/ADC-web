String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return this.substr(t||0,n.length)===n});var ClickDGravityFormsMapper=function(){function r(t,r){var u=!0,f=n.Mapping.filter(n=>n.CDId===t).length>1,e;f&&!r.checked&&(u=!1);u&&(e=o(r,f),i(t,e))}function u(n,t){var r=s(t);i(n,r)}function f(n,t){for(var r=0;r<t.length;r++)i(n,t[r].index)}function e(n,t){i(n,t.value)}function i(t,i){n.FormValues.push({key:t,val:i})}function o(n,t){return t?n.value:n.checked?"on":"off"}function s(n){var i=n.name,r='input[name="'+i+'"]:checked',t=document.querySelector(r);return t?t.value:""}var t={},n={};return t.GetGFFormData=function(t,i){var c,h,o,s;for(n.FormValues=[],c=t.querySelectorAll("#"+n.FormName+" input,#"+n.FormName+" select,#"+n.FormName+" textarea"),h=0;h<c.length;h++)if(o=c[h],s=n.Mapping.filter(function(n){return n.GFId===o.id}),s.length>0)switch(o.type){case"checkbox":r(s[0].CDId,o);break;case"radio":u(s[0].CDId,o);break;case"select-multiple":f(s[0].CDId,o.selectedOptions);break;default:e(s[0].CDId,o)}n.sendData(n.FormValues,i)},n.findVisitorKey=function(){var t=cdAnalytics.I,i,n;if(t)return t;try{for(i in cdAnalytics)if(n=cdAnalytics[i],typeof n=="string"&&n.length===32&&n.startsWith("c"))return n;return null}catch(r){}},n.sendData=function(t,i){for(var e,r,o="",u=[],f=0;f<n.FormValues.length;f++)e=n.FormValues[f],u.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.val));u.push(encodeURIComponent("cd_visitorkey")+"="+encodeURIComponent(n.findVisitorKey()));o=u.join("&").replace(/%20/g,"+");r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState>1&&i&&i()};r.open("POST",n.Url);r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");r.send(o)},n.SetProtocol=function(n){var t=location.protocol==="https:";return t&&(n=n.replace("http:/","https:/")),n},t.handler=function(n){n.preventDefault();var i=n.currentTarget;i.removeEventListener("submit",t.handler);t.GetGFFormData(i,function(){setTimeout(function(){document.createElement("form").submit.call(i)},1e3)})},t.Init=function(t){n.FormName=t.FormId.replace("#","");n.Mapping=t.Mapping;n.Url=n.SetProtocol(t.Url);n.UseRecaptchaV3=t.UseRecaptchaV3;n.setupSubmitEventForAllFormsWithThisName()},n.setupSubmitEventForAllFormsWithThisName=function(){var i=document.forms,t,r;if(i)for(t=0;t<i.length;t++)r=i[t],r.id===n.FormName&&n.setupSubmitEvent(r)},n.setupSubmitEvent=function(i){if(i)if(n.UseRecaptchaV3&&typeof jQuery!="undefined")jQuery(i).submit(t.handler);else{const n=i.submit;i.submit=function(){const t=new Event("submit",{bubbles:!0,cancelable:!0}),r=i.dispatchEvent(t);if(!r)return!1;n.call(this)};i.addEventListener("submit",t.handler,!0)}},t};